In this project we create a C++ based cache simulator that can be used to model the performance of multi-level cache configurations, we also provide support for pre-fetch buffers at last level cache.
The folder traces_and_sim_scripts has the collection of traces that can be used to test different configurations. The simulator models cache with WBWA policy along with LRU replacement policy.

We can configure the following on the simulator: 
Blocksize - same for l1 and l2
L1 size
L1 associativity
L2 size
L2 associativity
PREFETCH Buffer size N - valid only if L1 cache is present as LLC else 0
PREFETCH Buffer size M - valid only if L2 cache is present as LLC else 0

1. Type "make" to build.  (Type "make clean" first if you already compiled and want to recompile from scratch.)

2. Run trace reader:

   To run without throttling output:
   ./sim 32 8192 4 262144 8 3 10 ../example_trace.txt

   To run with throttling (via "less"):
   ./sim 32 8192 4 262144 8 3 10 ../example_trace.txt | less

   To run and confirm that all requests in the trace were read correctly:
   ./sim 32 8192 4 262144 8 3 10 ../example_trace.txt > echo_trace.txt
   diff ../example_trace.txt echo_trace.txt
	
    The result of "diff" should indicate that the only difference is that echo_trace.txt has the configuration information.
	0a1,10
	> ===== Simulator configuration =====
	> BLOCKSIZE:  32
	> L1_SIZE:    8192
	> L1_ASSOC:   4
	> L2_SIZE:    262144
	> L2_ASSOC:   8
	> PREF_N:     3
	> PREF_M:     10
	> trace_file: ../example_trace.txt
	>

3. Simulation Output:
    Example output on running ./sim 32 1024 2 0 0 0 0

     ===== Simulator configuration =====
    BLOCKSIZE:  32
    L1_SIZE:    1024
    L1_ASSOC:   2
    L2_SIZE:    0
    L2_ASSOC:   0
    PREF_N:     0
    PREF_M:     0
    trace_file: gcc_trace.txt
    
    ===== L1 contents =====
    set      0:   20028d D  20018a  
    set      1:   2001c1 D  20028d D
    set      2:   200223 D  20028d  
    set      3:   20018a    2001ac D
    set      4:   20018f D  2000f9  
    set      5:   200009    20017a  
    set      6:   200009    2000f9  
    set      7:   200009    2001ac  
    set      8:   200009    3d819c D
    set      9:   200009    2000fa  
    set     10:   200009    200214  
    set     11:   200009    2001ab  
    set     12:   20018f D  2001f2  
    set     13:   20028d D  20018d D
    set     14:   20013a    20018d D
    set     15:   2001f8 D  20028c D
    
    ===== Measurements =====
    a. L1 reads:                   63640
    b. L1 read misses:             9623
    c. L1 writes:                  36360
    d. L1 write misses:            5980
    e. L1 miss rate:               0.1560
    f. L1 writebacks:              7002
    g. L1 prefetches:              0
    h. L2 reads (demand):          0
    i. L2 read misses (demand):    0
    j. L2 reads (prefetch):        0
    k. L2 read misses (prefetch):  0
    l. L2 writes:                  0
    m. L2 write misses:            0
    n. L2 miss rate:               0.0000
    o. L2 writebacks:              0
    p. L2 prefetches:              0
    q. memory traffic:             22605

